import{m as D,c as $,g as H,P as ee,M as te,K as se,S as ae,a as oe}from"./pagination-lS0_9tep.js";import{_ as ne,k as ie,l as re,g as j,h as le,r as R,o as P,c as k,a as t,b as x,w as E,F as Z,d as q,t as v,j as I,m as ce,n as de,q as ue}from"./index-rRgU2xyF.js";import{a as F}from"./axios-G2rPRu76.js";import{u as pe}from"./cartStore-JyZy7-1Z.js";import{u as me}from"./toastMessage-kKI3NqS4.js";import{_ as fe}from"./ToastMessages-9cuA_cXF.js";import{_ as ge}from"./loading-a3rePalS.js";function ye(_){let{swiper:e,extendParams:C,on:s,emit:m}=_;C({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function h(a){let n;return a&&typeof a=="string"&&e.isElement&&(n=e.el.querySelector(a),n)?n:(a&&(typeof a=="string"&&(n=[...document.querySelectorAll(a)]),e.params.uniqueNavElements&&typeof a=="string"&&n.length>1&&e.el.querySelectorAll(a).length===1&&(n=e.el.querySelector(a))),a&&!n?a:n)}function y(a,n){const r=e.params.navigation;a=D(a),a.forEach(i=>{i&&(i.classList[n?"add":"remove"](...r.disabledClass.split(" ")),i.tagName==="BUTTON"&&(i.disabled=n),e.params.watchOverflow&&e.enabled&&i.classList[e.isLocked?"add":"remove"](r.lockClass))})}function p(){const{nextEl:a,prevEl:n}=e.navigation;if(e.params.loop){y(n,!1),y(a,!1);return}y(n,e.isBeginning&&!e.params.rewind),y(a,e.isEnd&&!e.params.rewind)}function b(a){a.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),m("navigationPrev"))}function f(a){a.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),m("navigationNext"))}function u(){const a=e.params.navigation;if(e.params.navigation=$(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(a.nextEl||a.prevEl))return;let n=h(a.nextEl),r=h(a.prevEl);Object.assign(e.navigation,{nextEl:n,prevEl:r}),n=D(n),r=D(r);const i=(c,L)=>{c&&c.addEventListener("click",L==="next"?f:b),!e.enabled&&c&&c.classList.add(...a.lockClass.split(" "))};n.forEach(c=>i(c,"next")),r.forEach(c=>i(c,"prev"))}function o(){let{nextEl:a,prevEl:n}=e.navigation;a=D(a),n=D(n);const r=(i,c)=>{i.removeEventListener("click",c==="next"?f:b),i.classList.remove(...e.params.navigation.disabledClass.split(" "))};a.forEach(i=>r(i,"next")),n.forEach(i=>r(i,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?S():(u(),p())}),s("toEdge fromEdge lock unlock",()=>{p()}),s("destroy",()=>{o()}),s("enable disable",()=>{let{nextEl:a,prevEl:n}=e.navigation;if(a=D(a),n=D(n),e.enabled){p();return}[...a,...n].filter(r=>!!r).forEach(r=>r.classList.add(e.params.navigation.lockClass))}),s("click",(a,n)=>{let{nextEl:r,prevEl:i}=e.navigation;r=D(r),i=D(i);const c=n.target;if(e.params.navigation.hideOnClick&&!i.includes(c)&&!r.includes(c)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===c||e.pagination.el.contains(c)))return;let L;r.length?L=r[0].classList.contains(e.params.navigation.hiddenClass):i.length&&(L=i[0].classList.contains(e.params.navigation.hiddenClass)),m(L===!0?"navigationShow":"navigationHide"),[...r,...i].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const g=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),p()},S=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),o()};Object.assign(e.navigation,{enable:g,disable:S,update:p,init:u,destroy:o})}function ve(_){let{swiper:e,extendParams:C,on:s,emit:m,params:h}=_;e.autoplay={running:!1,paused:!1,timeLeft:0},C({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let y,p,b=h&&h.autoplay?h.autoplay.delay:3e3,f=h&&h.autoplay?h.autoplay.delay:3e3,u,o=new Date().getTime(),g,S,a,n,r,i,c;function L(l){!e||e.destroyed||!e.wrapperEl||l.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",L),!c&&O())}const T=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?g=!0:g&&(f=u,g=!1);const l=e.autoplay.paused?u:o+f-new Date().getTime();e.autoplay.timeLeft=l,m("autoplayTimeLeft",l,l/b),p=requestAnimationFrame(()=>{T()})},U=()=>{let l;return e.virtual&&e.params.virtual.enabled?l=e.slides.filter(w=>w.classList.contains("swiper-slide-active"))[0]:l=e.slides[e.activeIndex],l?parseInt(l.getAttribute("data-swiper-autoplay"),10):void 0},d=l=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(p),T();let M=typeof l>"u"?e.params.autoplay.delay:l;b=e.params.autoplay.delay,f=e.params.autoplay.delay;const w=U();!Number.isNaN(w)&&w>0&&typeof l>"u"&&(M=w,b=w,f=w),u=M;const A=e.params.speed,Q=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(A,!0,!0),m("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,A,!0,!0),m("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(A,!0,!0),m("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,A,!0,!0),m("autoplay")),e.params.cssMode&&(o=new Date().getTime(),requestAnimationFrame(()=>{d()})))};return M>0?(clearTimeout(y),y=setTimeout(()=>{Q()},M)):requestAnimationFrame(()=>{Q()}),M},N=()=>{o=new Date().getTime(),e.autoplay.running=!0,d(),m("autoplayStart")},V=()=>{e.autoplay.running=!1,clearTimeout(y),cancelAnimationFrame(p),m("autoplayStop")},B=(l,M)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(y),l||(i=!0);const w=()=>{m("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",L):O()};if(e.autoplay.paused=!0,M){r&&(u=e.params.autoplay.delay),r=!1,w();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-o),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),w())},O=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(o=new Date().getTime(),i?(i=!1,d(u)):d(),e.autoplay.paused=!1,m("autoplayResume"))},z=()=>{if(e.destroyed||!e.autoplay.running)return;const l=H();l.visibilityState==="hidden"&&(i=!0,B(!0)),l.visibilityState==="visible"&&O()},K=l=>{l.pointerType==="mouse"&&(i=!0,c=!0,!(e.animating||e.autoplay.paused)&&B(!0))},X=l=>{l.pointerType==="mouse"&&(c=!1,e.autoplay.paused&&O())},G=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",K),e.el.addEventListener("pointerleave",X))},J=()=>{e.el.removeEventListener("pointerenter",K),e.el.removeEventListener("pointerleave",X)},W=()=>{H().addEventListener("visibilitychange",z)},Y=()=>{H().removeEventListener("visibilitychange",z)};s("init",()=>{e.params.autoplay.enabled&&(G(),W(),N())}),s("destroy",()=>{J(),Y(),e.autoplay.running&&V()}),s("_freeModeStaticRelease",()=>{(a||i)&&O()}),s("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?V():B(!0,!0)}),s("beforeTransitionStart",(l,M,w)=>{e.destroyed||!e.autoplay.running||(w||!e.params.autoplay.disableOnInteraction?B(!0,!0):V())}),s("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){V();return}S=!0,a=!1,i=!1,n=setTimeout(()=>{i=!0,a=!0,B(!0)},200)}}),s("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!S)){if(clearTimeout(n),clearTimeout(y),e.params.autoplay.disableOnInteraction){a=!1,S=!1;return}a&&e.params.cssMode&&O(),a=!1,S=!1}}),s("slideChange",()=>{e.destroyed||!e.autoplay.running||(r=!0)}),Object.assign(e.autoplay,{start:N,stop:V,pause:B,resume:O})}const _e="/cat-paws/assets/1-UpvAcVqM.png",he="/cat-paws/assets/6-RSZT1s_d.png",be="/cat-paws/assets/2-6XQBVvbT.png",we="/cat-paws/assets/3-Vlw8e5Xk.png";var xe={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"rubby-api",BASE_URL:"/cat-paws/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ee={setup(){const _=()=>{s.push("/products")},{VITE_APP_URL:e,VITE_APP_PATH:C}=xe,s=ie(),m=re(),h=pe(),{getCart:y}=h,p=j([]),b=j(m.params.productId),f=j({loadingItem:""}),u=j(!1),o=me(),{pushMessage:g}=o,S=d=>{f.value.loadingItem=d;const N={product_id:d,qty:1},V=`${e}/api/${C}/cart`;F.post(V,{data:N}).then(B=>{f.value.loadingItem="",g({style:"success",title:"加入購物車",content:B.data.message}),y()})},a=(d=2)=>{u.value=!0,F.get(`${e}/api/${C}/products?page=${d}`).then(N=>{p.value=N.data.products,u.value=!1}).catch(N=>{alert(N.response.data.message)})},n=d=>{s.push(`/product/${d.id}`).then(()=>{})},r=j(!0),i=d=>{d===""?r.value=!0:r.value=!1},c=j(null),L=()=>{F.get(`${e}/api/${C}/products/all`).then(d=>{d.data.success&&d.data.products.length>0&&(c.value=d.data.products[d.data.products.length-1])}).catch(()=>{c.value=null})},T=j(null),U=()=>{F.get(`${e}/api/${C}/products/all`).then(d=>{d.data.success&&d.data.products.length>0&&(T.value=d.data.products[d.data.products.length-2])}).catch(()=>{T.value=null})};return le(()=>{a(),L(),U()}),{modules:[ye,ee,ve,te,se],goToShop:_,products:p,openModal:n,addToCart:S,handleCategoryClick:i,id:b,status:f,isLoading:u,lastProduct:c,secondLastProduct:T}},components:{Swiper:ae,SwiperSlide:oe,ToastMessages:fe}},Pe={id:"app"},Le=t("img",{src:ge,width:"500",alt:"loading",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1),Te={class:"row p-0 bg-black mt-5"},ke=t("div",{class:"col-md-5 col-12 p-0"},[t("img",{src:_e,class:"img-fluid w-100 object-fit-cover",style:{height:"550px"},alt:"banner"})],-1),Ce={class:"col-md-7 col-12 text-center p-0 d-flex flex-column align-items-center justify-content-center"},Se={class:"m-4"},Me=t("p",{class:"text-light mt-3",style:{"font-size":"1.5em"}}," 讓您的貓咪成為時尚界的新寵兒! ",-1),De={class:"container mt-8"},Ne=t("h3",{class:"text-center text-brown"},[q(" 新品上市 "),t("div",{class:"text-center text-brown m-0 p-0 fs-1"},"-")],-1),Be={class:"row pc mb-5"},Ve={key:0,class:"col-md-6 p-0 bg-white d-flex justify-content-start text-start",style:{width:"550px"}},Oe={class:"ms-5 my-6 d-flex flex-column justify-content-between"},je={class:"card-title fs-5 my-3"},Ie={class:"card-title text-brown fs-5"},Ae={class:"fs-6 my-5",style:{width:"300px"}},Re={class:"col-md-6 p-0 position-relative cursor-pointer"},Fe=["src"],qe={class:"row pc"},Ue={key:0,class:"col-md-6 p-0 bg-white d-flex justify-content-start text-start",style:{width:"550px"}},He={class:"ms-5 my-6 d-flex flex-column justify-content-between"},ze={class:"card-title fs-5 my-3"},Ke={class:"card-title text-brown fs-5"},Xe={class:"fs-6 my-5",style:{width:"300px"}},Qe={class:"col-md-6 p-0 position-relative cursor-pointer"},Ze=["src"],Ge={class:"mobile"},Je={id:"swiper"},We=["src"],Ye={class:"my-3"},$e={class:"text-brown fs-5"},et=["src"],tt={class:"my-3"},st={class:"text-brown fs-5"},at={class:"container mt-8"},ot=t("h3",{class:"text-center text-brown"},[q(" 產品分類 "),t("div",{class:"text-center text-brown m-0 p-0 fs-1"},"-")],-1),nt={class:"row"},it={class:"col-md-4 col-12 mb-3 position-relative category"},rt=t("img",{src:he,class:"img-fluid w-100 object-fit-cover rounded-3",style:{height:"400px"},alt:"productPicture"},null,-1),lt=t("p",{class:"fs-5 position-absolute top-50 start-50 translate-middle text-decoration-underline text-white"}," 生活用品 ",-1),ct={class:"col-md-4 col-12 mb-3 position-relative category"},dt=t("img",{src:be,class:"img-fluid w-100 object-fit-cover rounded-3",style:{height:"400px"},alt:"productPicture"},null,-1),ut=t("p",{class:"fs-5 position-absolute top-50 start-50 translate-middle text-decoration-underline text-white"}," 時尚配件 ",-1),pt={class:"col-md-4 col-12 mb-3 position-relative category"},mt=t("img",{src:we,class:"img-fluid w-100 object-fit-cover rounded-3",style:{height:"400px"},alt:"productPicture"},null,-1),ft=t("p",{class:"fs-5 position-absolute top-50 start-50 translate-middle text-decoration-underline text-white"}," 休閒娛樂 ",-1),gt={class:"container mt-8"},yt=t("h3",{class:"text-center text-brown"},[q(" 精選商品 "),t("div",{class:"text-center text-brown m-0 p-0 fs-1"},"-")],-1),vt={id:"swiper"},_t=["onClick"],ht={key:0,class:"position-absolute top-0 start-0 fw-bold text-white p-2 bg-brown fs-6 fw-bold"},bt=["src"],wt={class:"card-body d-flex flex-column justify-content-between p-3"},xt={class:"card-title"},Et={key:0,class:"text-gray2 fs-5 mt-2"},Pt={key:1,class:"d-flex align-items-center justify-content-center ms-2 mt-2"},Lt={class:"text-gray2 fs-5"},Tt={class:"text-brown fs-5 ms-3"},kt={class:"mt-2"},Ct=["onClick"],St={key:0,class:"spinner-border spinner-border-sm","aria-hidden":"true"},Mt=t("i",{class:"bi bi-cart-plus fs-5"},null,-1);function Dt(_,e,C,s,m,h){const y=R("VueLoading"),p=R("swiper-slide"),b=R("swiper"),f=R("RouterLink"),u=R("ToastMessages");return P(),k(Z,null,[t("div",Pe,[x(y,{active:s.isLoading,"is-full-page":!0,"background-color":"#FFF8F1",opacity:1,"z-index":1060},{default:E(()=>[Le]),_:1},8,["active"]),t("div",Te,[ke,t("div",Ce,[t("div",Se,[Me,t("button",{type:"button",class:"btn btn-outline-light m-3 px-5 btn-lg rounded-0",onClick:e[0]||(e[0]=(...o)=>s.goToShop&&s.goToShop(...o))}," 立即選購 ")])])])]),t("div",De,[Ne,x(b,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!0,modules:s.modules,class:"mySwiper"},{default:E(()=>[x(p,null,{default:E(()=>{var o;return[t("div",Be,[s.lastProduct?(P(),k("div",Ve,[t("div",Oe,[t("p",je,v(s.lastProduct.title),1),t("span",Ie,"$"+v(_.$filters.numberToCurrencyNo(s.lastProduct.price)),1),t("p",Ae,v(s.lastProduct.content),1),t("p",{class:"mb-3 fs-6 cursor-pointer text-decoration-underline",onClick:e[1]||(e[1]=g=>s.openModal(s.lastProduct))}," 立即選購 >> ")])])):I("",!0),t("div",Re,[t("img",{src:(o=s.lastProduct)==null?void 0:o.imagesUrl[0],class:"img-fluid object-fit-cover w-100",style:{height:"550px"},alt:"picture",onClick:e[2]||(e[2]=g=>s.openModal(s.lastProduct))},null,8,Fe)])])]}),_:1}),x(p,null,{default:E(()=>{var o;return[t("div",qe,[s.secondLastProduct?(P(),k("div",Ue,[t("div",He,[t("p",ze,v(s.secondLastProduct.title),1),t("span",Ke,"$"+v(_.$filters.numberToCurrencyNo(s.secondLastProduct.price)),1),t("p",Xe,v(s.secondLastProduct.content),1),t("p",{class:"mb-3 fs-6 cursor-pointer text-decoration-underline",onClick:e[3]||(e[3]=g=>s.openModal(s.secondLastProduct))}," 立即選購 >> ")])])):I("",!0),t("div",Qe,[t("img",{src:(o=s.secondLastProduct)==null?void 0:o.imagesUrl[0],class:"img-fluid object-fit-cover w-100",style:{height:"550px"},alt:"picture",onClick:e[4]||(e[4]=g=>s.openModal(s.secondLastProduct))},null,8,Ze)])])]}),_:1})]),_:1},8,["modules"]),t("div",Ge,[t("div",Je,[x(b,{slidesPerView:1,spaceBetween:10,pagination:{clickable:!0},autoplay:{delay:2500,disableOnInteraction:!1},breakpoints:{640:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:30}},grabCursor:!0,freeMode:!0,modules:s.modules,class:"mySwiper",mousewheel:!0,keyboard:!0},{default:E(()=>[x(p,null,{default:E(()=>{var o;return[s.lastProduct?(P(),k("div",{key:0,class:"cursor-pointer mb-5",onClick:e[5]||(e[5]=g=>s.openModal(s.lastProduct))},[t("img",{src:(o=s.lastProduct)==null?void 0:o.imagesUrl[0],class:"img-fluid object-fit-cover w-100",style:{height:"300px"},alt:"picture"},null,8,We),t("p",Ye,v(s.lastProduct.title),1),t("span",$e,"$"+v(_.$filters.numberToCurrencyNo(s.lastProduct.price)),1)])):I("",!0)]}),_:1}),x(p,null,{default:E(()=>{var o;return[s.secondLastProduct?(P(),k("div",{key:0,class:"cursor-pointer mb-5",onClick:e[6]||(e[6]=g=>s.openModal(s.secondLastProduct))},[t("img",{src:(o=s.secondLastProduct)==null?void 0:o.imagesUrl[0],class:"img-fluid object-fit-cover w-100",style:{height:"300px"},alt:"picture"},null,8,et),t("p",tt,v(s.secondLastProduct.title),1),t("span",st,"$"+v(_.$filters.numberToCurrencyNo(s.secondLastProduct.price)),1)])):I("",!0)]}),_:1})]),_:1},8,["modules"])])])]),t("div",at,[ot,t("div",nt,[t("div",it,[x(f,{class:"text-decoration-none",to:"/products?category=生活用品"},{default:E(()=>[rt,lt]),_:1})]),t("div",ct,[x(f,{class:"text-decoration-none",to:"/products?category=時尚配件"},{default:E(()=>[dt,ut]),_:1})]),t("div",pt,[x(f,{class:"text-decoration-none",to:"/products?category=休閒娛樂"},{default:E(()=>[mt,ft]),_:1})])])]),t("div",gt,[yt,t("div",vt,[x(b,{slidesPerView:1,spaceBetween:10,pagination:{clickable:!0},breakpoints:{640:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:30}},grabCursor:!0,freeMode:!0,modules:s.modules,class:"mySwiper",mousewheel:!0,keyboard:!0},{default:E(()=>[(P(!0),k(Z,null,ce(s.products,o=>(P(),de(p,{key:o.id},{default:E(()=>[t("div",{class:"card shadow-sm border-0 position-relative mb-5",onClick:g=>s.openModal(o)},[o.price!==o.origin_price?(P(),k("span",ht,"SALE")):I("",!0),t("img",{src:o.imageUrl,class:"img-fluid object-fit-cover w-100",style:{height:"300px"},alt:"productPicture"},null,8,bt),t("div",wt,[t("div",xt,v(o.title),1),o.price===o.origin_price?(P(),k("div",Et," $"+v(_.$filters.numberToCurrencyNo(o.origin_price)),1)):(P(),k("div",Pt,[t("del",Lt,"$"+v(_.$filters.numberToCurrencyNo(o.origin_price)),1),t("div",Tt," $"+v(_.$filters.numberToCurrencyNo(o.price)),1)])),t("div",kt,[t("button",{type:"button",class:"btn btn-outline-brown m-2 px-5 rounded-pill",onClick:ue(g=>s.addToCart(o.id,1),["stop"])},[o.id===s.status.loadingItem?(P(),k("span",St)):I("",!0),q(" 加入購物車 "),Mt],8,Ct)])])],8,_t)]),_:2},1024))),128))]),_:1},8,["modules"])])]),x(u)],64)}const Rt=ne(Ee,[["render",Dt]]);export{Rt as default};
